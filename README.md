# ترليون - المتجر الرقمي العربي

<div align="center">
  <img src="https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6" alt="Trillion Banner" width="100%" />
</div>

<div align="center">
  
[![React](https://img.shields.io/badge/React-19.2.3-blue.svg)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.8-blue.svg)](https://www.typescriptlang.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind-3.4-green.svg)](https://tailwindcss.com/)
[![Supabase](https://img.shields.io/badge/Supabase-Latest-yellow.svg)](https://supabase.com/)
[![Vite](https://img.shields.io/badge/Vite-6.2-purple.svg)](https://vitejs.dev/)

</div>

## نظرة عامة

**ترليون** هو متجر إلكتروني عربي متكامل متخصص في بيع المنتجات الرقمية مثل الألعاب وبطاقات الشحن والقوالب والكورسات. يتميز الموقع بتصميم عصري يدعم اللغة العربية بشكل كامل مع الوضع الداكن والالفاتح، ويوفر تجربة تسوق سلسة على جميع الأجهزة.

يستخدم المشروع تقنيات حديثة تشمل React و TypeScript و Vite للواجهة الأمامية، و Supabase لقاعدة البيانات والمصادقة، و Tailwind CSS للتنسيق. يدعم المشروع أوضاعاً متعددة تشمل الوضع التجريبي المحلي للاستخدام دون اتصال بالإنترنت، والوضع الحي للاتصال بقاعدة البيانات السحابية.

---

## المميزات

### المميزات الأساسية

يقدم الموقع مجموعة شاملة من المميزات التي تلبي احتياجات المستخدمين والتجار على حد سواء. من جهة العملاء، يمكن للمستخدمين تصفح المنتجات الرقمية بسهولة عبر نظام بحث متقدم وفلاتر ذكية حسب نوع المنتج وسعره، مع إمكانية إضافة المنتجات للسلة وإتمام الشراء بشكل آمن. يوفر نظام المصادقة إمكانية التسجيل/login باستخدام البريد الإلكتروني أو Google، مع حفظ البيانات في قاعدة البيانات السحابية أو التخزين المحلي حسب الإعداد.

من جهة التجار، يوفر الموقع لوحة تحكم متكاملة لإدارة المنتجات والمبيعات. يمكن للتجار إضافة منتجات جديدة مع صور ووصف تفصيلي، ومتابعة المبيعات اليومية والأسبوعية عبر رسوم بيانية إحصائية. يدعم النظام أيضاً إدارة المخزون الرقمي وتتبع المفاتيح المتاحة والمباعة.

### المميزات التقنية

يتميز المشروع ببنية تقنية متينة قابلة للتوسع والصيانة. يعتمد المشروع على TypeScript للتحقق من الأنواع أثناء التطوير، مما يقلل الأخطاء ويحسن جودة الكود. تستخدم المكونات نمط React Functional Components مع Hooks لإدارة الحالة بشكل فعال.

دعم RTL مدمج بالكامل منذ البداية، مما يضمن تجربة مستخدم سلسة للغة العربية دون أي عناصر معكوسة أو مشاكل في التصميم. كما يدعم المشروع الوضع الداكن والفاتح تلقائياً مع إمكانية التبديل اليدوي، مع حفظ تفضيلات المستخدم في التخزين المحلي.

---

## هيكل المشروع

```
digistore-araby/
├── src/
│   ├── components/
│   │   ├── AuthForms.tsx      // نماذج المصادقة (تسجيل الدخول/التسجيل)
│   │   ├── BottomNav.tsx      // التنقل السفلي للموبايل
│   │   ├── Button.tsx         // مكون الزر القابل لإعادة الاستخدام
│   │   ├── CartSection.tsx    // قسم سلة التسوق
│   │   ├── MerchantDashboard.tsx // لوحة تحكم التاجر
│   │   ├── Modal.tsx          // النافذة المنبثقة
│   │   ├── Navbar.tsx         // شريط التنقل العلوي
│   │   ├── NewsSection.tsx    // قسم الأخبار والعروض
│   │   ├── ProductCard.tsx    // بطاقة عرض المنتج
│   │   ├── SettingsView.tsx   // صفحة الإعدادات وحسابي
│   │   └── Toast.tsx          // نظام الإشعارات المنبثقة
│   ├── services/
│   │   └── supabaseClient.ts  // عميل Supabase والدوال المساعدة
│   ├── types.ts               // تعريفات الأنواع TypeScript
│   ├── constants.ts           // الثوابت والبيانات التجريبية
│   ├── App.tsx                // المكون الرئيسي للتطبيق
│   └── main.tsx               // نقطة الدخول للتطبيق
├── supabase-schema.sql        // مخطط قاعدة البيانات
├── supabase-functions.sql     // دوال قاعدة البيانات
├── SUPABASE_SETUP_GUIDE.md    // دليل ربط Supabase
└── package.json
```

---

## متطلبات التشغيل

### المتطلبات الأساسية

لتشغيل المشروع، تحتاج إلى تثبيت أحدث إصدار من Node.js (الإصدار 18 أو أحدث). يُنصح باستخدام npm أو yarn لإدارة الحزم، وكلاهما يأتي مع تثبيت Node.js. للتحقق من وجود Node.js، يمكنك تشغيل الأمر التالي في الطرفية:

```bash
node --version
```

يجب أن يُظهر الإصدار 18.x أو أحدث. إذا لم يكن لديك Node.js مثبتاً، يمكنك تحميله من الموقع الرسمي nodejs.org أو استخدام مدير الإصدارات مثل nvm.

### تثبيت الاعتماديات

بعد استنساخ المشروع أو استخراج الملفات، تحتاج لتثبيت جميع الاعتماديات. انتقل إلى مجلد المشروع في الطرفية ونفذ الأمر التالي:

```bash
cd digistore-araby
npm install
```

سيقوم npm بقراءة ملف package.json وتثبيت جميع المكتبات المطلوبة تلقائياً. قد يستغرق هذا العملية بعض الوقت حسب سرعة الاتصال بالإنترنت.

---

## الإعداد والتشغيل

### الوضع التجريبي (الافتراضي)

يعمل المشروع حالياً في الوضع التجريبي حيث يحفظ البيانات في التخزين المحلي للمتصفح (LocalStorage). هذا يعني أنه يمكنك استخدام جميع مميزات الموقع دون الحاجة لإعداد قاعدة بيانات خارجية.

للبدء في هذا الوضع:

```bash
npm run dev
```

سيتم تشغيل خادم التطوير على العنوان http://localhost:5173. افتح هذا العنوان في متصفحك وسترى الموقع يعمل بشكل كامل مع جميع الميزات التجريبية.

### الوضع الحي مع Supabase

لربط الموقع بقاعدة بيانات Supabase الحقيقية، اتبع الخطوات التالية:

**الخطوة الأولى**: أنشئ حساباً على Supabase.com وأنشئ مشروعاً جديداً. احصل على رابط المشروع والمفتاح العام من قسم Settings > API.

**الخطوة الثانية**: انسخ ملف البيئة:

```bash
cp .env.example .env.local
```

**الخطوة الثالثة**: 编辑 ملف `.env.local` وأضف مفاتيح Supabase:

```env
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here
```

**الخطوة الرابعة**: في لوحة تحكم Supabase، اذهب إلى SQL Editor ونفذ محتوى ملف `supabase-schema.sql` لإنشاء جميع الجداول والقواعد.

**الخطوة الخامسة**: أعد تشغيل التطبيق:

```bash
npm run dev
```

---

## إدارة قاعدة البيانات

### الجداول الرئيسية

يحتوي المشروع على مجموعة من الجداول التي تدير جوانب مختلفة من المتجر. جدول `users` يخزن معلومات المستخدمين الأساسية مثل الاسم والبريد الإلكتروني والدور (عميل أو تاجر أو مدير) ورصيد المحفظة. جدول `products` يخزن معلومات المنتجات مثل الاسم والوصف والسعر والصورة ونوع المنتج (باقة أو ملف رقمي أو اشتراك) ومعرف البائع.

جدول `product_keys` يخزن المفاتيح الرقمية للمنتجات مع حالتها (متاح أو مباع أو محجوز). جدول `orders` يخزن معلومات الطلبات الكاملة بما في ذلك المبلغ الإجمالي والضريبة والخصم وحالة الطلب. جدول `order_items` يربط الطلبات بالمنتجات مع تفاصيل الكمية والسعر والمفتاح الرقمي المسلّم.

### أمان قاعدة البيانات

تم تفعيل Row Level Security (RLS) على جميع الجداول لضمان أمان البيانات. هذه القواعد تضمن أن المستخدمين يمكنهم فقط رؤية و تعديل بياناتهم الخاصة. على سبيل المثال، لا يمكن للمستخدم العادي رؤية جدول المفاتيح الرقمية، ولا يمكنه تعديل منتجات تاجر آخر.

---

## نشر التطبيق

### النشر على Vercel

يُنصح بنشر التطبيق على Vercel للحصول على أداء ممتاز وتكامل سلس مع Git. أولاً، أنشئ حساباً على Verc.com واربطه بمستودع GitHub. ثم انقر على "Add New Project" واختر مستودع المشروع.

سيقوم Vercel تلقائياً بكشف أن المشروع يستخدم Vite وإعداد الإعدادات المناسبة. تأكد من إضافة متغيرات البيئة (Supabase URL و ANON Key) في إعدادات المشروع على Vercel.

### النشر على Netlify

بديل آخر هو Netlify الذي يوفر أيضاً نشراً سلساً لتطبيقات React. ارفع مجلد المشروع مباشرة إلى Netlify أو اربطه بمستودع GitHub. Netlify سيكتشف تلقائياً إعدادات Vite ويبني التطبيق بنجاح.

---

## التطوير المستقبلي

### الميزات المخطط لها

يعمل فريق التطوير على إضافة ميزات جديدة لتحسين تجربة المستخدم وزيادة إمكانيات المتجر. من أهم هذه الميزات نظام المحفظة الرقمية الذي يتيح للمستخدمين شحن رصيد وشراء المنتجات بضغطة واحدة، ونظام التسليم الآلي الذي يوفر المفاتيح الرقمية فور تأكيد الدفع عبر البريد الإلكتروني.

كما يُخطط لإضافة نظام المراجعات والتقييمات الذي يتيح للمشترين تقييم المنتجات والبائعين، ونظام الفئات المتقدم للتصفية حسب المنصة والسعر والمنطقة. دعم بوابات الدفع الإقليمية مثل Tap Payments و Moyasar يُعد من الأولويات لتسهيل الدفع في المنطقة العربية.

### إرشادات المساهمة

نرحب بمساهمات المطورين لتحسين المشروع. يمكنكم تقديم Pull Requests لإصلاح الأخطاء أو إضافة ميزات جديدة. يُرجى الالتزام بمعايير الكود المعمول بها في المشروع واستخدام TypeScript مع أنواع صحيحة لجميع المكونات الجديدة.

---

## الدعم الفني

للحصول على المساعدة أو الإبلاغ عن مشاكل:

- راجع [دليل إعداد Supabase](SUPABASE_SETUP_GUIDE.md) للمشاكل المتعلقة بقاعدة البيانات.
- راجع وثائق React و TypeScript و Supabase الرسمية.
- افتح Issue في المستودع مع وصف تفصيلي للمشكلة.

---

## الترخيص

هذا المشروع مرخص تحت رخصة MIT. يُسمح باستخدام وتعديل وتوزيع المشروع للأغراض الشخصية والتجارية مع ذكر حقوق الملكية.

---

**تم تطويره بـ ❤️ للمجتمع العربي**

